(function(d,c,a,e){var b=function(g,f){this.elem=g;this.$elem=d(g);this.options=f;this.metadata=this.$elem.data("plugin-options");this.$nav=this.$elem.find("a.a1");
this.$win=d(c);this.sections={};this.didScroll=false;this.$doc=d(a);this.docHeight=this.$doc.height();};b.prototype={defaults:{currentClass:"current",changeHash:false,easing:"swing",filter:"",scrollSpeed:750,scrollOffset:0,scrollThreshold:0.5,begin:false,end:false,scrollChange:false},init:function(){var f=this;
f.config=d.extend({},f.defaults,f.options,f.metadata);if(f.config.filter!==""){f.$nav=f.$nav.filter(f.config.filter);}f.$nav.on("click.onePageNav",d.proxy(f.handleClick,f));
f.getPositions();f.bindInterval();f.$win.on("resize.onePageNav",d.proxy(f.getPositions,f));return this;},adjustNav:function(f,g){f.$elem.find("."+f.config.currentClass).removeClass(f.config.currentClass);
g.addClass(f.config.currentClass);},bindInterval:function(){var g=this;var f;g.$win.on("scroll.onePageNav",function(){g.didScroll=true;});g.t=setInterval(function(){f=g.$doc.height();
if(g.didScroll){g.didScroll=false;g.scrollChange();}if(f!==g.docHeight){g.docHeight=f;g.getPositions();}},250);},getHash:function(f){return f.attr("href").split("#")[1];
},getPositions:function(){var h=this;var i;var g;var f;h.$nav.each(function(){i=h.getHash(d(this));f=d("#"+i);if(f.length){g=f.offset().top;h.sections[i]=Math.round(g)-h.config.scrollOffset;
}});},getSection:function(i){var f=null;var h=Math.round(this.$win.height()*this.config.scrollThreshold);for(var g in this.sections){if((this.sections[g]-h)<i){f=g;
}}return f;},handleClick:function(j){var g=this;var f=d(j.currentTarget);var i=f.parent();var h="#"+g.getHash(f);if(!i.hasClass(g.config.currentClass)){if(g.config.begin){g.config.begin();
}g.adjustNav(g,i);g.unbindInterval();d.scrollTo(h,g.config.scrollSpeed,{axis:"y",easing:g.config.easing,offset:{top:-g.config.scrollOffset},onAfter:function(){if(g.config.changeHash){c.location.hash=h;
}g.bindInterval();if(g.config.end){g.config.end();}}});}j.preventDefault();},scrollChange:function(){var h=this.$win.scrollTop();var f=this.getSection(h);
var g;if(f!==null){g=this.$elem.find('a[href$="#'+f+'"]').parent();if(!g.hasClass(this.config.currentClass)){this.adjustNav(this,g);if(this.config.scrollChange){this.config.scrollChange(g);
}}}},unbindInterval:function(){clearInterval(this.t);this.$win.unbind("scroll.onePageNav");}};b.defaults=b.prototype.defaults;d.fn.onePageNav=function(f){return this.each(function(){new b(this,f).init();
});};})(jQuery,window,document);(function(c){var b=c.scrollTo=function(e,d,f){c(window).scrollTo(e,d,f);};b.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1,limit:true};
b.window=function(d){return c(window)._scrollable();};c.fn._scrollable=function(){return this.map(function(){var e=this,f=!e.nodeName||c.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;
if(!f){return e;}var d=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||d.compatMode=="BackCompat"?d.body:d.documentElement;
});};c.fn.scrollTo=function(i,h,d){if(typeof h=="object"){d=h;h=0;}if(typeof d=="function"){d={onAfter:d};}if(i=="max"){i=9000000000;}d=c.extend({},b.defaults,d);
h=h||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){h/=2;}d.offset=a(d.offset);d.over=a(d.over);return this._scrollable().each(function(){if(!i){return;
}var m=this,j=c(m),k=i,g,e={},l=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(k)){k=a(k);break;}k=c(k,this);
if(!k.length){return;}case"object":if(k.is||k.style){g=(k=c(k)).offset();}}c.each(d.axis.split(""),function(s,q){var o=q=="x"?"Left":"Top",u=o.toLowerCase(),r="scroll"+o,p=m[r],n=b.max(m,q);
if(g){e[r]=g[u]+(l?0:p-j.offset()[u]);if(d.margin){e[r]-=parseInt(k.css("margin"+o))||0;e[r]-=parseInt(k.css("border"+o+"Width"))||0;}e[r]+=d.offset[u]||0;
if(d.over[u]){e[r]+=k[q=="x"?"width":"height"]()*d.over[u];}}else{var t=k[u];e[r]=t.slice&&t.slice(-1)=="%"?parseFloat(t)/100*n:t;}if(d.limit&&/^\d+$/.test(e[r])){e[r]=e[r]<=0?0:Math.min(e[r],n);
}if(!s&&d.queue){if(p!=e[r]){f(d.onAfterFirst);}delete e[r];}});f(d.onAfter);function f(n){j.animate(e,h,d.easing,n&&function(){n.call(this,i,d);});}}).end();
};b.max=function(h,g){var k=g=="x"?"Width":"Height",f="scroll"+k;if(!c(h).is("html,body")){return h[f]-c(h)[k.toLowerCase()]();}var j="client"+k,i=h.ownerDocument.documentElement,e=h.ownerDocument.body;
return Math.max(i[f],e[f])-Math.min(i[j],e[j]);};function a(d){return typeof d=="object"?d:{top:d,left:d};}})(jQuery);